项目情况

财务系统：
	项目描述：由于公司正在准备上市，之前的营收情况都是通过人工处理的，为了对经营活动、财务活动进行反映、监督、控制、协调运作，故开发此系统。
	该系统主要有管理每个平台账号的流水数据模块、财务数据报表模块、财务综合管理模块、财务公司管理模块、财务权限管理模块、操作日志模块等。该项目主要依据公司目前的支出、收入流水来进行设计的。
	

	责任描述：在该项目上主要负责收益相关的功能开发。
	
	技术选型：Spring、SpringMVC、SpringBoot、Mybatis Plus、redis等。


内容审查系统：
	项目描述：公司的产品及相关的网站和微信公众号都是面向社会大众的，我们是有责任保证产品和页面上的内容是合法合规的；但是目前我们是比较欠缺相关内容的审核及审查机制，内容安全（涉黄、涉毒、涉赌等）相关的风险较高，
	该类风险隐患一旦发生，对公司的损害将是巨大的；为此我们要做我们自己的内容安全审核机制。 所以我们对于图片、视频、文本、都去调用阿里云对应的接口，检查这些信息是否违规，如果违规会通过报警的方式通知对应的人。
	
	责任描述：在该项目主要负责核心图片、视频、文本的核心处理逻辑
	
	技术选型：Spring、SpringMVC、SpringBoot、Mybatis Plus、MySQL、RabbitMQ,xxlJob等。



北极星项目：
	项目描述：为了统一查看收益数据，方便运营人员更好的维护代码位和代码位对应收益的数据，也方便运营人员分析每天的收益情况，以便更好的决策。
	
	责任描述：在该项目中主要对接各个广告平台拉取代码位的信息，过来我们这边进行统一维护，同时也对接广告平台拉取每天的收益数据，并根据报表的形式展示到页面。
	
	技术选型：Spring、SpringMVC、SpringBoot、Mybatis Plus、MySQL,xxlJob、redis等。


rta:
	（提升买量能力）
	项目描述：该项目主要用来对接腾讯的广告平台，提升公司的买量能力，核心逻辑是我们可以根据我们的逻辑来判断要不要给该用户展示我们的广告，在没有该项目时，公司的买量能力都是依据于平台，
	可能该用户已经安装我们的APP了，平台可能还是会推我们APP的广告给该用户，会造成浪费，所以对接该项目后，腾讯的广告平台再给用户展示广告前会先调用我们的提供的接口，来判断要不要给该用户展示广告，我们根据自己的逻辑判断后告诉广告平台，只有我们要时才可能会展示。
	
	责任描述：该项目的主要核心逻辑有，接收客户端上报的服务，该服务主要处理用户信息，并且将用户信息上报给rabbitmq,同时有一个服务来消费该队列，并将用户信息处理后保存进redis。
			  然后有一个服务来对接广告平台的，该服务会用到前一个服务保存进redis的用户数据，同时也会将请求的信息上报给mq，记录下来，方便后续分析和追踪。
			  在该项目上自己一个人从理解对方提供的文档，撰写项目解决方案文档，再到整个项目的开发，并且对方要求能够支撑10万QPS并且需要在60ms响应。
	
	使用技术：SpringBoot、SpringMVC、redis、RabbitMQ、Apoll0、线程池、docker、K8S等。
	
	性能问题处理：
	RTA从开发完成并经过测试人员测试没问题之后，由于性能方面测试方面我们这边缺乏经验导致在最初很难压测10万以上QPS的效果，到了19号就联系广点通的人员进行放量联调，刚开始从1万QPS开始放起，
	直接就服务器就承受不住了，CPU直接升高，然后对方就不愿意再继续联调了，让我们先压测10万以上的QPS后再跟他们联调，后面我们就先从代码层面进行分析，后面在娄导的分析下发现由于上报请求队列的rabbitmq在高并发的情况下，
	由于出错一直重试导致一直在消耗CPU，后面就先决定去掉上报记录请求参数的队列，因为请求量过大，导致消耗性能，然后代码层面就没再改动了，只是去掉记录请求参数这一步骤，接下来又开始进行压测，
	直到23号周一，还一直不满足10万QPS并且60ms秒的响应时间，然后再通过arthas这个开源的性能分析工具，一边压测一边分析代码的性能，发现每行代码的处理时间都是几毫秒大的，根本性能瓶颈不在代码层面。
	到24号周二早上娄导发现我们通过jmeter压测时参数设置有问题导致结果不正确，后面经过调整参数就压的正常了，不过由于我们的资源有限，我们的电脑都是同一个出口，带宽有限，所以只能支持1万个QPS，
	后面就直接再联系广点通进行联调，刚开始5万QPS很稳定，到了6万QPS就上不去了，后面看了服务器资源发现CPU打满，入网带宽也差不多280Mbit/s了，
	后面就对服务器CPU核数、容器实例个数、入网带宽进行调整后最后广点通那边进行全量发放11万QPS左右，结果很满足。从这次能够的教训能够提炼出，由于之前没处理过那么大的QPS，
	我们大部分人都没经验，只能通过一次次的尝试，如果下次再有类似的我们就能够很好的定位问题在哪里,怎么去分配和规划服务器资源。


​	
​	
广告中台：
​	项目描述：该系统主要的模块有基础配置、功能管理、变现管理、广告管理、系统管理等模块。该项目是基于公司目前的产品的广告变现来设计的。
​	
	责任描述：在该项目中主要负责的模块有基础配置，广告管理，系统管理模块，基础模块主要用来配置公司信息、产品、渠道、平台等基础信息，基础模块主要用来记录用户的访问记录，这里主要通过事件的方式来实现。最后广告管理是整个系统最复杂，最核心的模块，
	主要是广告Code的维护和变现计划的核心业务，主要涉及到配置目标用户规则、显示规则、行为控制、应用范围、变现设置等打开APP时展示广告的生命周期配置。
	
	技术选型：Spring、SpringMVC、SpringBoot、SpringCloud Bus、JPA、openfeign、Swagger、Mysql、Redis、RabbitMQ、SpringCloud GateWay、Apollo等


​	
​	
​	
	JPA底层有提供针对于VO改变的事件，例如实现PostInsertEventListener并重写onPostInsert方法，当对象进行插入后会触发该事件，可以在该方法做相应的逻辑，实现PostUpdateEventListener并重写onPostUpdate，实现PostDeleteEventListener并重写onPostDelete
	然后在该方法里面通过事件的方式将该信息发送出去，然后有一个消费组监听该事件，只要有事件的产生就会进行消费。（这样设计的目的是为了解耦，只要监听该事件的服务都能接收到更新的信息）
	
	封装mybatis plus 和JPA统一查询条件，当使用mybati plus查询时，需要构建QueryWrapper,而且当查询条件多时，这部分不仅是重复代码也容易写错字段。所以封装统一查询，通过定义注解，然后标注在相应的字段上，
	然后查询的时候直接调用封装好的方法，并且在内部进行针对各种条件拼接好。对于springdata jpa也是一样，每次查询也需要去构建Specification，所以也通过注解标在要查询的字段，然后统一封装查询。


​	
	后台模块：网关gateway、基础配置模块、广告模块、系统模块、公共模块、审计模块


​	
​	
	基础配置主要有；公司主体管理、合作公司主体管理、产品管理、渠道管理、平台管理
	功能管理：功能组管理、页面管理、场景管理
	变现管理：变现账号管理、变现源管理、代码位、素材等
	广告管理：广告系统设置、广告code管理、变现计划
	系统管理：操作日志